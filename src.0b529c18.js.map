{"version":3,"sources":["index.js"],"names":["galleryItems","preview","original","description","galleryContainer","document","querySelector","lightboxRef","lightboxImageRef","lightboxOverlayRef","closeButtonRef","galleryMarkup","createGalleryItems","items","map","index","join","onGalleryContainerClick","evt","target","nodeName","onOpenModal","preventDefault","window","addEventListener","onKeyPress","onCloseModal","once","currentImg","classList","add","src","dataset","source","alt","setAttribute","idx","remove","removeAttribute","removeEventListener","esc","code","arrowRight","arrowLeft","Number","length","insertAdjacentHTML"],"mappings":";;;AAoKC,aApKD,QAAA,oBAEA,MAAMA,EAAe,CACnB,CACEC,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBAIXC,EAAmBC,SAASC,cAAc,eAC1CC,EAAcF,SAASC,cAAc,gBACrCE,EAAmBH,SAASC,cAAc,oBAC1CG,EAAqBJ,SAASC,cAAc,sBAC5CI,EAAiBL,SAASC,cAAc,qBAGxCK,EAAgBC,EAAmBZ,GAMzC,SAASY,EAAmBC,GACnBA,OAAAA,EACJC,IAAI,EAAGb,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,GAAcY,gFAKhCb,mEAICD,2BACQC,wBACHC,wBACAY,wCAMdC,KAAK,IAIV,SAASC,EAAwBC,GACY,OAArBA,EAAIC,OAAOC,UAEjCC,EAAYH,GAGd,SAASG,EAAYH,GAEnBA,EAAII,iBAEJC,OAAOC,iBAAiB,UAAWC,GACnCf,EAAec,iBAAiB,QAASE,EAAc,CAACC,MAAK,IAC7DlB,EAAmBe,iBAAiB,QAASE,EAAc,CAACC,MAAK,IAC3DC,MAAAA,EAAaV,EAAIC,OACvBZ,EAAYsB,UAAUC,IAAI,WAC1BtB,EAAiBuB,IAAMH,EAAWI,QAAQC,OAC1CzB,EAAiB0B,IAAMN,EAAWI,QAAQE,IAC1C1B,EAAiB2B,aAAa,WAAYP,EAAWI,QAAQI,KAI/D,SAASV,EAAaR,GAClBX,EAAYsB,UAAUQ,OAAO,WAC7B7B,EAAiB8B,gBAAgB,OACnC9B,EAAiB8B,gBAAgB,OACjCf,OAAOgB,oBAAoB,UAAWd,GAGxC,SAASA,EAAWP,GAEZsB,MAAAA,EAAmB,WAAbtB,EAAIuB,KACVC,EAA0B,eAAbxB,EAAIuB,KACjBE,EAAyB,cAAbzB,EAAIuB,KAClB1B,IAAAA,EACAyB,GACFd,EAAaR,GAGVwB,KAEH3B,EAAQ6B,OAAOpC,EAAiBwB,QAAQI,QAE1BpC,EAAa6C,SAC3B9B,EAAQ,GAEPP,EAAiBuB,IAAM/B,EAAae,GAAOb,SAC3CM,EAAiBwB,QAAQI,IAAMrB,EAAQ,GAGtC4B,KAEF5B,EAAQ6B,OAAOpC,EAAiBwB,QAAQI,MAE1B,IACZrB,EAAQf,EAAa6C,OAAS9B,GAE9BP,EAAiBuB,IAAM/B,EAAae,GAAOb,SAC3CM,EAAiBwB,QAAQI,IAAMrB,EAAM,GAtF3CX,EAAiB0C,mBAAmB,YAAanC,GAEjDP,EAAiBoB,iBAAiB,QAASP","file":"src.0b529c18.js","sourceRoot":"..\\src","sourcesContent":["import './sass/main.scss';\r\n\r\nconst galleryItems = [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n\r\nconst galleryContainer = document.querySelector(\".js-gallery\");\r\nconst lightboxRef = document.querySelector(\".js-lightbox\");\r\nconst lightboxImageRef = document.querySelector(\".lightbox__image\");\r\nconst lightboxOverlayRef = document.querySelector('.lightbox__overlay');\r\nconst closeButtonRef = document.querySelector('.lightbox__button');\r\n\r\n\r\nconst galleryMarkup = createGalleryItems(galleryItems);\r\ngalleryContainer.insertAdjacentHTML(\"beforeend\", galleryMarkup);\r\n\r\ngalleryContainer.addEventListener(\"click\", onGalleryContainerClick);\r\n\r\n\r\nfunction createGalleryItems(items) {\r\n  return items\r\n    .map(({ preview, original, description },index) =>\r\n    {  \r\n      return `<li class=\"gallery__item\">\r\n  <a\r\n     class=\"gallery__link\"\r\n     href=\"${original}\"\r\n   >\r\n     <img\r\n       class=\"gallery__image\"\r\n       src=\"${preview}\"\r\n       data-source=\"${original}\"\r\n       data-alt=\"${description}\"\r\n       data-idx=\"${index}\"\r\n      \r\n     />\r\n   </a>\r\n </li>`;\r\n    })\r\n    .join(\"\");\r\n\r\n}\r\n\r\nfunction onGalleryContainerClick(evt) {\r\n  const isGalleryItem = evt.target.nodeName==\"IMG\";\r\n  if (!isGalleryItem) { return;  }\r\n  onOpenModal(evt);\r\n}\r\n\r\nfunction onOpenModal(evt)\r\n{\r\n  evt.preventDefault();\r\n  \r\n  window.addEventListener('keydown', onKeyPress);\r\n  closeButtonRef.addEventListener('click', onCloseModal, {once:true});\r\n  lightboxOverlayRef.addEventListener('click', onCloseModal, {once:true});\r\n  const currentImg = evt.target;\r\n  lightboxRef.classList.add('is-open');\r\n  lightboxImageRef.src = currentImg.dataset.source;\r\n  lightboxImageRef.alt = currentImg.dataset.alt;\r\n  lightboxImageRef.setAttribute('data-idx', currentImg.dataset.idx);\r\n   \r\n}\r\n\r\nfunction onCloseModal(evt) {\r\n    lightboxRef.classList.remove('is-open');\r\n    lightboxImageRef.removeAttribute('src');\r\n  lightboxImageRef.removeAttribute('alt');\r\n  window.removeEventListener('keydown', onKeyPress);\r\n}\r\n\r\nfunction onKeyPress(evt) {\r\n  \r\n  const esc = evt.code === 'Escape';\r\n  const arrowRight = evt.code === 'ArrowRight';\r\n  const arrowLeft = evt.code === 'ArrowLeft';\r\n  let index;\r\n  if (esc) {\r\n    onCloseModal(evt);\r\n  }\r\n\r\n   if (arrowRight) {\r\n   \r\n    index = Number(lightboxImageRef.dataset.idx);\r\n     \r\n    if (index === galleryItems.length) {\r\n    index = 0;\r\n  }      \r\n     lightboxImageRef.src = galleryItems[index].original;\r\n     lightboxImageRef.dataset.idx = index + 1;\r\n  }\r\n  \r\n  if (arrowLeft) {\r\n     \r\n    index = Number(lightboxImageRef.dataset.idx);\r\n   \r\n      if (index < 0) {\r\n      index = galleryItems.length + index;\r\n    }\r\n      lightboxImageRef.src = galleryItems[index].original;\r\n      lightboxImageRef.dataset.idx = index-1;\r\n  }\r\n}\r\n\r\n"]}